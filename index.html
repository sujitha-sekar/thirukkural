<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thirukkural Verses</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="logo.png" type="image/png" />
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@400;700&family=Poppins:wght@400;600&display=swap"
    rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #fefcbf;
    }

    .fade-enter-active,
    .fade-leave-active {
      transition: opacity 0.5s ease;
    }

    .fade-enter-from,
    .fade-leave-to {
      opacity: 0;
    }

    .sidebar {
      background: linear-gradient(135deg, #c4b7e2 0%, #9b8ac2 100%);
      border-radius: 0 20px 20px 0;
      box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
    }

    .card {
      background: linear-gradient(135deg, #ff9a76 0%, #ff6f61 100%);
      border-radius: 20px;
      padding: 1.5rem;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    .accordion-button {
      @apply bg-teal-500 hover:bg-teal-600 text-white font-medium py-2 px-4 rounded-lg transition-all duration-300;
    }

    .kural-text {
      color: white;
    }

    .kural-eng {
      color: #c92156;
    }

    .side-head {
      color: #fdb0b0;
    }

    .expand-btn {
      color: #feffd1;
      font-weight: 600;
    }

    .bookmark-btn {
      @apply text-yellow-400 hover:text-yellow-500 transition-colors duration-300 float-right;
    }

    .selected-submenu {
      background-color: rgba(255, 255, 255, 0.3);
      /* Lighter shade for selected submenu */
    }
  </style>
</head>

<body class="min-h-screen flex">
  <!-- Sidebar Navigation -->
  <div class="sidebar w-64 h-screen p-6 text-white hidden md:block">
    <h1 class="text-2xl font-bold mb-6">родро┐ро░рпБроХрпНроХрпБро▒ро│рпН ЁЯМ┐ЁЯУЬ</h1>
    <ul class="space-y-4">
      <li>
        <button id="virtueBtn" class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20">роЕро▒родрпНродрпБрокрпНрокро╛ро▓рпН
          ЁЯУЦ</button>
        <ul id="virtueSubmenu" class="pl-4 space-y-2 hidden">
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="1">рокро╛ропро┐ро░ро╡ро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="2">роЗро▓рпНро▓ро▒ро╡ро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="3">родрпБро▒ро╡ро▒ро╡ро┐ропро▓рпН</button></li>
        </ul>
      </li>
      <li>
        <button id="wealthBtn" class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20">рокрпКро░рпБроЯрпНрокро╛ро▓рпН
          ЁЯУЦ</button>
        <ul id="wealthSubmenu" class="pl-4 space-y-2 hidden">
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="39">роЕро░роЪро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="40">роЕроорпИроЪрпНроЪро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="41">роЕроЩрпНроХро╡ро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="42">роТро┤ро┐рокро┐ропро▓рпН</button></li>
        </ul>
      </li>
      <li>
        <button id="loveBtn" class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20">роЗройрпНрокродрпНродрпБрокрпНрокро╛ро▓рпН
          ЁЯУЦ</button>
        <ul id="loveSubmenu" class="pl-4 space-y-2 hidden">
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="108">роХро│ро╡ро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="109">роХро▒рпНрокро┐ропро▓рпН</button></li>
        </ul>
      </li>
    </ul>
  </div>

  <!-- Main Content -->
  <div class="flex-1 p-6">
    <div class="md:hidden mb-4">
      <select id="paalSelect"
        class="w-full p-2 border-2 border-teal-500 rounded-lg focus:outline-none focus:border-teal-600">
        <option value="virtue">роЕро▒родрпНродрпБрокрпНрокро╛ро▓рпН ЁЯУЦ</option>
        <option value="wealth">рокрпКро░рпБроЯрпНрокро╛ро▓рпН ЁЯУЦ</option>
        <option value="love">роЗройрпНрокродрпНродрпБрокрпНрокро╛ро▓рпН ЁЯУЦ</option>
      </select>
    </div>

    <div id="chaptersContainer" class="space-y-4"></div>
  </div>

  <script>
    const virtueBtn = document.getElementById('virtueBtn');
    const wealthBtn = document.getElementById('wealthBtn');
    const loveBtn = document.getElementById('loveBtn');
    const paalSelect = document.getElementById('paalSelect');
    const chaptersContainer = document.getElementById('chaptersContainer');
    const virtueSubmenu = document.getElementById('virtueSubmenu');
    const wealthSubmenu = document.getElementById('wealthSubmenu');
    const loveSubmenu = document.getElementById('loveSubmenu');

    // Toggle submenus and highlight selected
    virtueBtn.addEventListener('click', () => {
      virtueSubmenu.classList.toggle('hidden');
      wealthSubmenu.classList.add('hidden');
      loveSubmenu.classList.add('hidden');
      highlightSelectedSubmenu('virtue', 1);
      renderChapters('virtue', 1);
    });
    wealthBtn.addEventListener('click', () => {
      wealthSubmenu.classList.toggle('hidden');
      virtueSubmenu.classList.add('hidden');
      loveSubmenu.classList.add('hidden');
      highlightSelectedSubmenu('wealth', 39);
      renderChapters('wealth', 39);
    });
    loveBtn.addEventListener('click', () => {
      loveSubmenu.classList.toggle('hidden');
      virtueSubmenu.classList.add('hidden');
      wealthSubmenu.classList.add('hidden');
      highlightSelectedSubmenu('love', 108);
      renderChapters('love', 108);
    });

    // Submenu click handlers
    document.querySelectorAll('#virtueSubmenu button, #wealthSubmenu button, #loveSubmenu button').forEach(btn => {
      btn.addEventListener('click', () => {
        const paal = btn.closest('ul').id.replace('Submenu', '');
        const chapterId = parseInt(btn.getAttribute('data-sub'));
        highlightSelectedSubmenu(paal, chapterId);
        renderChapters(paal, chapterId);
      });
    });

    paalSelect.addEventListener('change', (e) => {
      const chapterId = e.target.value === 'virtue' ? 1 : e.target.value === 'wealth' ? 39 : 108;
      highlightSelectedSubmenu(e.target.value, chapterId);
      renderChapters(e.target.value, chapterId);
    });

    // Highlight selected submenu
    function highlightSelectedSubmenu(paal, chapterId) {
      document.querySelectorAll('.sidebar button').forEach(btn => btn.classList.remove('selected-submenu'));
      const submenu = document.querySelector(`#${paal}Submenu button[data-sub="${chapterId}"]`);
      if (submenu) submenu.classList.add('selected-submenu');
    }

    // Updated Kurals data with correct structure
    const kurals = {
      virtue: {
        chapters: [
          {
            id: 1, name: "рокро╛ропро┐ро░ро╡ро┐ропро▓рпН", sections: [
              {
                name: "роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ", kurals: [
                  { tamil: "роЕроХро░ роорпБродро▓ роОро┤рпБродрпНродрпЖро▓рпНро▓ро╛роорпН роЖродро┐", eng: "A is the first of letters, God is the first of beings." },
                  { tamil: "роХроЯро╡рпБро│рпН ро╡рогроЩрпНроХро┐ ро╡ро╛ро┤рпНро╡родрпБ роЕро▒роорпН", eng: "Worshipping God is the essence of virtue." },
                  { tamil: "роЕро▒роорпН рокрпБро░ро┐роирпНродро╛ро▓рпН родрпАро░рпБроорпН роЕро╡ро╛", eng: "Virtue practiced dispels desire." },
                  { tamil: "роХро▒рпНро▒родрпБ роХрпИроорогрпН роЕро│ро╡рпБ", eng: "Learning is a handful of earth." },
                  { tamil: "роХро▓рпНро▓ро╛родро╡ройрпН роХрпЗроЯрпБ роЕро▒ро┐ро╡рпБ", eng: "The unlearned face ruin through ignorance." },
                  { tamil: "роЕро▒ро┐ро╡рпБроЯрпИропро╡ройрпН роЖроЯрпНроЪро┐ роЪрпЖро▓рпБродрпНродрпБ", eng: "The wise govern with knowledge." },
                  { tamil: "роиро▓рпНро▓ро╡ройрпН роирпЖроЮрпНроЪроорпН родро┐ро▒роирпНродрпБ", eng: "The good-hearted open their minds." },
                  { tamil: "родрпАропро╡ройрпН родройрпНройрпИ роЕро▒ро┐", eng: "The wicked should know themselves." },
                  { tamil: "роЙро▓роХрпБ роЙропро░рпНро╡рпБ роЕро▒родрпНродро╛ро▓рпН", eng: "The world rises through virtue." },
                  { tamil: "роХроЯро╡рпБро│рпН роХро░рпБрогрпИ родройрпНроорпИ", eng: "God's compassion is supreme." }
                ]
              },
              {
                name: "ро╡ро╛ройрпН роЪро┐ро▒рокрпНрокрпБ", kurals: [
                  { tamil: "ро╡ро╛ройроорпН родро╛ройроорпН родро░рпБроорпН ро╡ро╛ро┤рпНро╡рпБ", eng: "Rain brings the gift of life." },
                  { tamil: "рооро┤рпИ роЗро▓рпНро▓рпИропрпЗро▓рпН рооро░роорпН роХро╛ропрпБроорпН", eng: "Without rain, trees wither." },
                  // Add 8 more kurals...
                ]
              },
              {
                name: "роирпАродрпНродро╛ро░рпН рокрпЖро░рпБроорпИ", kurals: [
                  { tamil: "роирпАродрпНродро╛ро░рпИ роиро╛роЯрпБ роЙропро░рпБроорпН", eng: "The land prospers with the virtuous." },
                  // Add 9 more kurals...
                ]
              },
              {
                name: "роЕро▒ройрпНро╡ро▓ро┐ропрпБро▒рпБродрпНродро▓рпН", kurals: [
                  { tamil: "роЕро▒роорпН роЪрпЖропрпНроп ро╡рпЗрогрпНроЯрпБроорпН роОрокрпНрокрпЛродрпБроорпН", eng: "Virtue must be practiced always." },
                  // Add 9 more kurals...
                ]
              }
            ]
          }
        ]
      },
      wealth: {
        chapters: [
          {
            id: 39, name: "роЕро░роЪро┐ропро▓рпН", kurals: [
              { tamil: "рокрпКро░рпБро│рпН рокрпЖро▒рпБродро▓рпН роЕро▒ро┐ро╡ро┐ройрпН рокропройрпН", eng: "Wealth is the fruit of wisdom." }
            ]
          },
          {
            id: 40, name: "роЕроорпИроЪрпНроЪро┐ропро▓рпН", kurals: [
              { tamil: "роЕроорпИроЪрпНроЪрпБ роЕро▒ро┐ро╡ро╛ро▓рпН роЪрпЖро▓рпНро╡роорпН", eng: "Ministers prosper with wisdom." }
            ]
          },
          {
            id: 41, name: "роЕроЩрпНроХро╡ро┐ропро▓рпН", kurals: [
              { tamil: "роЕроЩрпНроХроорпН рокро▓ро╡рпБроорпН роЕро▒ро┐ро╡рпБ родрпЗро╡рпИ", eng: "All parts need wisdom." }
            ]
          },
          {
            id: 42, name: "роТро┤ро┐рокро┐ропро▓рпН", kurals: [
              { tamil: "роТро┤рпБроХрпНроХроорпН роЙропро░рпНро╡рпБ родро░рпБроорпН", eng: "Discipline brings elevation." }
            ]
          }
        ]
      },
      love: {
        chapters: [
          {
            id: 108, name: "роХро│ро╡ро┐ропро▓рпН", kurals: [
              { tamil: "роХро╛родро▓рпН роХро░рпБродро┐ ро╡ро╛ро┤рпНро╡родрпБ роЗройрпНрокроорпН", eng: "Living with love is joy." }
            ]
          },
          {
            id: 109, name: "роХро▒рпНрокро┐ропро▓рпН", kurals: [
              { tamil: "роХро▒рпНрокрпБ роХро╛ро╡ро▓рпН роЪрпЖропрпНроп ро╡рпЗрогрпНроЯрпБроорпН", eng: "Chastity must be guarded." }
            ]
          }
        ]
      }
    };

    // Render chapters for selected Paal and chapter with separate expansions
    function renderChapters(paal, chapterId) {
      chaptersContainer.innerHTML = '';
      const chapters = kurals[paal].chapters.filter(ch => ch.id === chapterId);
      chapters.forEach(chapter => {
        const chapterDiv = document.createElement('div');
        chapterDiv.className = 'text-2xl font-bold mb-4 side-head';
        chapterDiv.textContent = chapter.name; // рокро╛ропро┐ро░ро╡ро┐ропро▓рпН as main heading outside box
        chaptersContainer.appendChild(chapterDiv);

        chapter.sections.forEach(section => {
          const sectionCard = document.createElement('div');
          sectionCard.className = 'card mb-4';
          sectionCard.innerHTML = `
            <button class="accordion-button w-full text-left expand-btn" data-section="${section.name}">
              ${section.name}
            </button>
            <div id="section-${section.name}" class="hidden mt-2 space-y-2"></div>
          `;
          chaptersContainer.appendChild(sectionCard);

          const kuralDiv = document.getElementById(`section-${section.name}`);
          section.kurals.forEach((kural, index) => {
            const kuralItem = document.createElement('div');
            kuralItem.className = 'p-3 bg-white bg-opacity-20 rounded-lg flex justify-between items-center';
            kuralItem.innerHTML = `
              <div>
                <p class="text-lg font-medium kural-text">${index + 1}. ${kural.tamil}</p>
                <p class="text-sm italic kural-eng">${kural.eng}</p>
              </div>
              <button class="bookmark-btn" data-kural="${kural.tamil}">тЭдя╕П</button>
            `;
            kuralDiv.appendChild(kuralItem);
          });
        });
      });

      // Add accordion functionality
      document.querySelectorAll('.accordion-button').forEach(button => {
        button.addEventListener('click', () => {
          const sectionName = button.getAttribute('data-section');
          const content = document.getElementById(`section-${sectionName}`);
          content.classList.toggle('hidden');
          if (!content.classList.contains('hidden')) {
            content.classList.add('fade-enter-active');
            setTimeout(() => content.classList.remove('fade-enter-active'), 500);
          }
        });
      });

      // Add bookmark functionality
      document.querySelectorAll('.bookmark-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const kural = btn.getAttribute('data-kural');
          if (!document.getElementById(`bookmarked-${kural}`)) {
            const bookmarked = document.createElement('li');
            bookmarked.id = `bookmarked-${kural}`;
            bookmarked.className = 'flex justify-between items-center p-2 bg-white bg-opacity-20 rounded-lg mt-2';
            bookmarked.innerHTML = `${kural} <button class="text-red-400 hover:text-red-500" onclick="removeBookmark('${kural}')">тЬЦ</button>`;
            chaptersContainer.appendChild(bookmarked);
          }
        });
      });
    }

    // Remove bookmark
    function removeBookmark(kural) {
      const item = document.getElementById(`bookmarked-${kural}`);
      if (item) item.remove();
    }

    // Initial load with рокро╛ропро┐ро░ро╡ро┐ропро▓рпН and роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ open by default
    document.addEventListener('DOMContentLoaded', () => {
      renderChapters('virtue', 1);
      highlightSelectedSubmenu('virtue', 1);
      setTimeout(() => {
        const firstSection = document.getElementById('section-роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ');
        if (firstSection) {
          firstSection.classList.remove('hidden');
          firstSection.classList.add('fade-enter-active');
          setTimeout(() => firstSection.classList.remove('fade-enter-active'), 500);
        }
      }, 100);
    });
  </script>
</body>

</html>