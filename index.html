<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thirukkural Verses</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="logo.png" type="image/png" />
  <link
    href="https://fonts.googleapis.com/css2?family=Noto+Sans+Tamil:wght@400;700&family=Poppins:wght@400;600&display=swap"
    rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #fefcbf;
    }

    .fade-enter-active,
    .fade-leave-active {
      transition: opacity 0.5s ease;
    }

    .fade-enter-from,
    .fade-leave-to {
      opacity: 0;
    }

    .sidebar {
      background: linear-gradient(135deg, #c4b7e2 0%, #9b8ac2 100%);
      border-radius: 0 20px 20px 0;
      box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
    }

    .card {
      background: linear-gradient(135deg, #ff9a76 0%, #ff6f61 100%);
      border-radius: 20px;
      padding: 1.5rem;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
    }

    .accordion-button {
      @apply bg-teal-500 hover:bg-teal-600 text-white font-medium py-2 px-4 rounded-lg transition-all duration-300;
    }

    .kural-text {
      color: white;
      line-height: 1.4;
    }

    .kural-line1 {
      font-size: 1.2rem;
      font-weight: 600;
    }

    .kural-line2 {
      font-size: 1.1rem;
      font-weight: 600;
    }

    .kural-eng {
      color: rgb(31 41 55 / var(--tw-text-opacity, 1));
      font-size: 0.9rem;
      font-style: italic;
    }

    .sec-card {
      background: linear-gradient(135deg, #fdd692, #fcb69f);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }

    .side-head {
      color: #fdb0b0;
    }

    .expand-btn {
      color: #feffd1;
      font-weight: 600;
    }

    .bookmark-btn {
      @apply text-yellow-400 hover:text-yellow-500 transition-colors duration-300 float-right;
    }

    .selected-submenu {
      background-color: rgba(255, 255, 255, 0.3);
      /* Lighter shade for selected submenu */
    }
  </style>
</head>

<body class="min-h-screen flex">
  <!-- Sidebar Navigation -->
  <div class="sidebar w-64 h-screen p-6 text-white hidden md:block">
    <h1 class="text-2xl font-bold mb-6">родро┐ро░рпБроХрпНроХрпБро▒ро│рпН ЁЯМ┐ЁЯУЬ</h1>
    <ul class="space-y-4">
      <li>
        <button id="virtueBtn" class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20">роЕро▒родрпНродрпБрокрпНрокро╛ро▓рпН
          ЁЯУЦ</button>
        <ul id="virtueSubmenu" class="pl-4 space-y-2 hidden">
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="1">рокро╛ропро┐ро░ро╡ро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="2">роЗро▓рпНро▓ро▒ро╡ро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="3">родрпБро▒ро╡ро▒ро╡ро┐ропро▓рпН</button></li>
        </ul>
      </li>
      <li>
        <button id="wealthBtn" class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20">рокрпКро░рпБроЯрпНрокро╛ро▓рпН
          ЁЯУЦ</button>
        <ul id="wealthSubmenu" class="pl-4 space-y-2 hidden">
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="39">роЕро░роЪро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="40">роЕроорпИроЪрпНроЪро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="41">роЕроЩрпНроХро╡ро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="42">роТро┤ро┐рокро┐ропро▓рпН</button></li>
        </ul>
      </li>
      <li>
        <button id="loveBtn" class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20">роЗройрпНрокродрпНродрпБрокрпНрокро╛ро▓рпН
          ЁЯУЦ</button>
        <ul id="loveSubmenu" class="pl-4 space-y-2 hidden">
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="108">роХро│ро╡ро┐ропро▓рпН</button></li>
          <li><button class="w-full text-left p-2 rounded-lg hover:bg-white hover:bg-opacity-20"
              data-sub="109">роХро▒рпНрокро┐ропро▓рпН</button></li>
        </ul>
      </li>
    </ul>
  </div>

  <!-- Main Content -->
  <div class="flex-1 p-6">
    <div class="md:hidden mb-4">
      <select id="paalSelect"
        class="w-full p-2 border-2 border-teal-500 rounded-lg focus:outline-none focus:border-teal-600">
        <option value="virtue">роЕро▒родрпНродрпБрокрпНрокро╛ро▓рпН ЁЯУЦ</option>
        <option value="wealth">рокрпКро░рпБроЯрпНрокро╛ро▓рпН ЁЯУЦ</option>
        <option value="love">роЗройрпНрокродрпНродрпБрокрпНрокро╛ро▓рпН ЁЯУЦ</option>
      </select>
    </div>

    <div id="chaptersContainer" class="space-y-4"></div>
  </div>

  <script>
    const virtueBtn = document.getElementById('virtueBtn');
    const wealthBtn = document.getElementById('wealthBtn');
    const loveBtn = document.getElementById('loveBtn');
    const paalSelect = document.getElementById('paalSelect');
    const chaptersContainer = document.getElementById('chaptersContainer');
    const virtueSubmenu = document.getElementById('virtueSubmenu');
    const wealthSubmenu = document.getElementById('wealthSubmenu');
    const loveSubmenu = document.getElementById('loveSubmenu');

    // Toggle submenus and highlight selected
    virtueBtn.addEventListener('click', () => {
      virtueSubmenu.classList.toggle('hidden');
      wealthSubmenu.classList.add('hidden');
      loveSubmenu.classList.add('hidden');
      highlightSelectedSubmenu('virtue', 1);
      renderChapters('virtue', 1);
    });
    wealthBtn.addEventListener('click', () => {
      wealthSubmenu.classList.toggle('hidden');
      virtueSubmenu.classList.add('hidden');
      loveSubmenu.classList.add('hidden');
      highlightSelectedSubmenu('wealth', 39);
      renderChapters('wealth', 39);
    });
    loveBtn.addEventListener('click', () => {
      loveSubmenu.classList.toggle('hidden');
      virtueSubmenu.classList.add('hidden');
      wealthSubmenu.classList.add('hidden');
      highlightSelectedSubmenu('love', 108);
      renderChapters('love', 108);
    });

    // Submenu click handlers
    document.querySelectorAll('#virtueSubmenu button, #wealthSubmenu button, #loveSubmenu button').forEach(btn => {
      btn.addEventListener('click', () => {
        const paal = btn.closest('ul').id.replace('Submenu', '');
        const chapterId = parseInt(btn.getAttribute('data-sub'));
        highlightSelectedSubmenu(paal, chapterId);
        renderChapters(paal, chapterId);
      });
    });

    paalSelect.addEventListener('change', (e) => {
      const chapterId = e.target.value === 'virtue' ? 1 : e.target.value === 'wealth' ? 39 : 108;
      highlightSelectedSubmenu(e.target.value, chapterId);
      renderChapters(e.target.value, chapterId);
    });

    // Highlight selected submenu
    function highlightSelectedSubmenu(paal, chapterId) {
      document.querySelectorAll('.sidebar button').forEach(btn => btn.classList.remove('selected-submenu'));
      const submenu = document.querySelector(`#${paal}Submenu button[data-sub="${chapterId}"]`);
      if (submenu) submenu.classList.add('selected-submenu');
    }

    // Updated Kurals data with correct structure
    const kurals = {
      virtue: {
        chapters: [
          {
            id: 1, name: "рокро╛ропро┐ро░ро╡ро┐ропро▓рпН", sections: [
              {
                name: "роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ", kurals: [
                  { tamil: "роЕроХро░ роорпБродро▓ роОро┤рпБродрпНродрпЖро▓рпНро▓ро╛роорпН роЖродро┐\nрокроХро╡ройрпН роорпБродро▒рпНро▒рпЗ роЙро▓роХрпБ", eng: "роОро┤рпБродрпНродрпБроХрпНроХро│рпНтАМ роОро▓рпНро▓ро╛роорпНтАМ роЕроХро░родрпНродрпИ роЕроЯро┐рокрпНрокроЯрпИропро╛роХроХрпНтАМ роХрпКрогрпНроЯро┐ро░рпБроХрпНроХро┐ройрпНро▒рой. роЕродрпБрокрпЛро▓рпНтАМ роЙро▓роХроорпНтАМ роХроЯро╡рпБро│рпИ роЕроЯро┐рокрпНрокроЯрпИропро╛роХроХрпНтАМ роХрпКрогрпНроЯро┐ро░рпБроХрпНроХро┐ройрпНро▒родрпБ." },
                  { tamil: "роХро▒рпНро▒родройро╛ро▓рпН роЖроп рокропройрпЖройрпНроХрпКро▓рпН ро╡ро╛ро▓ро▒ро┐ро╡ройрпН\nроиро▒рпНро▒ро╛ро│рпН родрпКро┤ро╛роЕро░рпН роОройро┐ройрпН", eng: "родрпВроп роЕро▒ро┐ро╡рпБ ро╡роЯро┐ро╡ро╛роХ ро╡ро┐ро│роЩрпНроХрпБроорпНтАМ роЗро▒рпИро╡ройрпБроЯрпИроп роиро▓рпНро▓ родро┐ро░рпБро╡роЯро┐роХро│рпИродрпНтАМ родрпКро┤ро╛рооро▓рпНтАМ роЗро░рпБрокрпНрокро╛ро░ро╛ройро╛ро▓рпНтАМ, роЕро╡ро░рпНтАМ роХро▒рпНро▒ роХро▓рпНро╡ро┐ропро┐ройро╛ро▓рпНтАМ роЖроХро┐роп рокропройрпНтАМ роОройрпНрой?" },
                  { tamil: "рооро▓ро░рпНрооро┐роЪрпИ роПроХро┐ройро╛ройрпН рооро╛рогроЯро┐ роЪрпЗро░рпНроирпНродро╛ро░рпН\nроиро┐ро▓рооро┐роЪрпИ роирпАроЯрпБро╡ро╛ро┤рпН ро╡ро╛ро░рпН", eng: "роЕройрпНрокро░ро┐ройрпНтАМ роЕроХрооро╛роХро┐роп рооро▓ро░ро┐ро▓рпНтАМ ро╡рпАро▒рпНро▒ро┐ро░рпБроХрпНроХрпБроорпНтАМ роХроЯро╡рпБро│ро┐ройрпНтАМ роЪро┐ро▒роирпНрод родро┐ро░рпБро╡роЯро┐роХро│рпИ роЗроЯрпИро╡ро┐роЯро╛рооро▓рпНтАМ роиро┐ройрпИроХрпНроХро┐ройрпНро▒ро╡ро░рпНтАМ роЗройрпНрок роЙро▓роХро┐ро▓рпНтАМ роиро┐ро▓рпИродрпНродрпБ ро╡ро╛ро┤рпНро╡ро╛ро░рпНтАМ." },
                  { tamil: "ро╡рпЗрогрпНроЯрпБродро▓рпН ро╡рпЗрогрпНроЯро╛роорпИ роЗро▓ро╛ройроЯро┐ роЪрпЗро░рпНроирпНродро╛ро░рпНроХрпНроХрпБ\nропро╛рогрпНроЯрпБроорпН роЗроЯрпБроорпНрокрпИ роЗро▓", eng: "ро╡ро┐ро░рпБрокрпНрокрпБ ро╡рпЖро▒рпБрокрпНрокрпБ роЗро▓рпНро▓ро╛род роХроЯро╡рпБро│ро┐ройрпНтАМ родро┐ро░рпБро╡роЯро┐роХро│рпИрокрпНтАМ рокрпКро░рпБроирпНродро┐ роиро┐ройрпИроХрпНроХро┐ройрпНро▒ро╡ро░рпНроХрпНроХрпБ роОрокрпНрокрпЛродрпБроорпНтАМ роОро╡рпНро╡ро┐роЯродрпНродро┐ро▓рпБроорпНтАМ родрпБройрпНрокроорпНтАМ роЗро▓рпНро▓рпИ." },
                  { tamil: "роЗро░рпБро│рпНроЪрпЗро░рпН роЗро░рпБро╡ро┐ройрпИропрпБроорпН роЪрпЗро░ро╛ роЗро▒рпИро╡ройрпН\nрокрпКро░рпБро│рпНроЪрпЗро░рпН рокрпБроХро┤рпНрокрпБро░ро┐роирпНродро╛ро░рпН рооро╛роЯрпНроЯрпБ", eng: "роХроЯро╡рпБро│ро┐ройрпНтАМ роЙрогрпНроорпИрокрпНтАМ рокрпБроХро┤рпИ ро╡ро┐ро░рпБроорпНрокро┐ роЕройрпНрокрпБ роЪрпЖро▓рпБродрпНродрпБроХро┐ройрпНро▒ро╡ро░ро┐роЯроорпНтАМ, роЕро▒ро┐ропро╛роорпИропро╛ро▓рпНтАМ ро╡ро┐ро│рпИропрпБроорпНтАМ роЗро░рпБро╡роХрпИ ро╡ро┐ройрпИропрпБроорпНтАМ роЪрпЗро░рпНро╡родро┐ро▓рпНро▓рпИ." },
                  { tamil: "рокрпКро▒ро┐ро╡ро╛ропро┐ро▓рпН роРроирпНродро╡ро┐родрпНродро╛ройрпН рокрпКропрпНродрпАро░рпН роТро┤рпБроХрпНроХ\nроирпЖро▒ро┐роиро┐ройрпНро▒ро╛ро░рпН роирпАроЯрпБро╡ро╛ро┤рпН ро╡ро╛ро░рпН", eng: "роРроорпНрокрпКро▒ро┐ ро╡ро╛ропро┐ро▓ро╛роХрокрпНтАМ рокро┐ро▒роХрпНроХрпБроорпНтАМ ро╡рпЗроЯрпНроХрпИроХро│рпИ роЕро╡ро┐родрпНрод роЗро▒рпИро╡ройрпБроЯрпИроп рокрпКропрпНропро▒рпНро▒ роТро┤рпБроХрпНроХ роирпЖро▒ро┐ропро┐ро▓рпНтАМ роиро┐ройрпНро▒ро╡ро░рпНтАМ, роиро┐ро▓рпИ рокрпЖро▒рпНро▒ роиро▓рпНро╡ро╛ро┤рпНроХрпНроХрпИ ро╡ро╛ро┤рпНро╡ро░рпНтАМ." },
                  { tamil: "родройроХрпНроХрпБро╡роорпИ роЗро▓рпНро▓ро╛родро╛ройрпН родро╛ро│рпНроЪрпЗро░рпНроирпНродро╛ро░рпНроХрпН роХро▓рпНро▓ро╛ро▓рпН\nрооройроХрпНроХро╡ро▓рпИ рооро╛ро▒рпНро▒ро▓рпН роЕро░ро┐родрпБ", eng: "родройроХрпНроХрпБ роТрокрпНрокрпБроорпИ роЗро▓рпНро▓ро╛род родро▓рпИро╡ройрпБроЯрпИроп родро┐ро░рпБро╡роЯро┐роХро│рпИрокрпНтАМ рокрпКро░рпБроирпНродро┐ роиро┐ройрпИроХрпНроХро┐ройрпНро▒ро╡ро░рпНроХрпНроХрпБ роЕро▓рпНро▓ро╛рооро▓рпНтАМ, рооро▒рпНро▒ро╡ро░рпНроХрпНроХрпБ рооройроХрпНроХро╡ро▓рпИропрпИ рооро╛ро▒рпНро▒ роорпБроЯро┐ропро╛родрпБ." },
                  { tamil: "роЕро▒ро╡ро╛ро┤ро┐ роЕроирпНродрогройрпН родро╛ро│рпНроЪрпЗро░рпНроирпНродро╛ро░рпНроХрпН роХро▓рпНро▓ро╛ро▓рпН\nрокро┐ро▒ро╡ро╛ро┤ро┐ роирпАроирпНродро▓рпН роЕро░ро┐родрпБ", eng: "роЕро▒роХрпНроХроЯро▓ро╛роХ ро╡ро┐ро│роЩрпНроХрпБроорпНтАМ роХроЯро╡рпБро│ро┐ройрпНтАМ родро┐ро░рпБро╡роЯро┐роХро│рпИрокрпНтАМ рокрпКро░рпБроирпНродро┐ роиро┐ройрпИроХрпНроХро┐ройрпНро▒ро╡ро░рпНроХрпНроХрпБ роЕро▓рпНро▓ро╛рооро▓рпНтАМ, рооро▒рпНро▒ро╡ро░рпНтАМ рокрпКро░рпБро│рпБроорпНтАМ роЗройрпНрокроорпБрооро╛роХро┐роп рооро▒рпНро▒роХрпНтАМ роХроЯро▓рпНроХро│рпИроХрпНтАМ роХроЯроХрпНроХ роорпБроЯро┐ропро╛родрпБ." },
                  { tamil: "роХрпЛро│ро┐ро▓рпН рокрпКро▒ро┐ропро┐ройрпН роХрпБрогрооро┐ро▓ро╡рпЗ роОрогрпНроХрпБрогродрпНродро╛ройрпН\nродро╛ро│рпИ ро╡рогроЩрпНроХро╛родрпН родро▓рпИ", eng: "роХрпЗроЯрпНроХро╛род роЪрпЖро╡ро┐ рокро╛ро░рпНроХрпНроХро╛род роХрогрпНтАМ роорпБродро▓ро┐ропройрокрпЛро▓рпНтАМ роОрогрпНтАМ роХрпБрогроЩрпНроХро│рпИ роЙроЯрпИроп роХроЯро╡рпБро│ро┐ройрпНтАМ родро┐ро░рпБро╡роЯро┐роХро│рпИ ро╡рогроЩрпНроХро╛родро╡ро░ро┐ройрпНтАМ родро▓рпИроХро│рпНтАМ рокропройро▒рпНро▒ро╡рпИроХро│ро╛роорпНтАМ." },
                  { tamil: "рокро┐ро▒ро╡ро┐рокрпН рокрпЖро░рпБроЩрпНроХроЯро▓рпН роирпАроирпНродрпБро╡ро░рпН роирпАроирпНродро╛ро░рпН\nроЗро▒рпИро╡ройрпН роЕроЯро┐роЪрпЗро░ро╛ родро╛ро░рпН", eng: "роЗро▒рпИро╡ройрпБроЯрпИроп родро┐ро░рпБро╡роЯро┐роХро│рпИрокрпНтАМ рокрпКро░рпБроирпНродро┐ роиро┐ройрпИроХрпНроХро┐ройрпНро▒ро╡ро░рпНтАМ рокро┐ро▒ро╡ро┐ропро╛роХро┐роп рокрпЖро░ро┐роп роХроЯро▓рпИроХрпНтАМ роХроЯроХрпНроХ роорпБроЯро┐ропрпБроорпНтАМ: рооро▒рпНро▒ро╡ро░рпНтАМ роХроЯроХрпНроХ роорпБроЯро┐ропро╛родрпБ." },
                ]
              },
              {
                name: "ро╡ро╛ройрпН роЪро┐ро▒рокрпНрокрпБ", kurals: [
                  { tamil: "ро╡ро╛ройроорпН родро╛ройроорпН родро░рпБроорпН ро╡ро╛ро┤рпНро╡рпБ\nрооро┤рпИ роЗро▓рпНро▓рпИропрпЗро▓рпН рооро░роорпН роХро╛ропрпБроорпН", eng: "Rain brings the gift of life." }
                  // Add more kurals as needed
                ]
              },
              {
                name: "роирпАродрпНродро╛ро░рпН рокрпЖро░рпБроорпИ", kurals: [
                  { tamil: "роирпАродрпНродро╛ро░рпИ роиро╛роЯрпБ роЙропро░рпБроорпН\nроЕро▒роорпН роЪрпЖропрпНроп ро╡рпЗрогрпНроЯрпБроорпН роОрокрпНрокрпЛродрпБроорпН", eng: "The land prospers with the virtuous." }
                  // Add more kurals as needed
                ]
              },
              {
                name: "роЕро▒ройрпНро╡ро▓ро┐ропрпБро▒рпБродрпНродро▓рпН", kurals: [
                  { tamil: "роЕро▒роорпН роЪрпЖропрпНроп ро╡рпЗрогрпНроЯрпБроорпН роОрокрпНрокрпЛродрпБроорпН\nроиро▓рпНро▓ро╡ройрпН роирпЖроЮрпНроЪроорпН родро┐ро▒роирпНродрпБ", eng: "Virtue must be practiced always." }
                  // Add more kurals as needed
                ]
              }
            ]
          }
        ]
      },
      wealth: {
        chapters: [
          {
            id: 39, name: "роЕро░роЪро┐ропро▓рпН", kurals: [
              { tamil: "рокрпКро░рпБро│рпН рокрпЖро▒рпБродро▓рпН роЕро▒ро┐ро╡ро┐ройрпН рокропройрпН\nроЕро▒ро┐ро╡рпБроЯрпИропро╡ройрпН роЖроЯрпНроЪро┐ роЪрпЖро▓рпБродрпНродрпБ", eng: "Wealth is the fruit of wisdom." }
            ]
          },
          {
            id: 40, name: "роЕроорпИроЪрпНроЪро┐ропро▓рпН", kurals: [
              { tamil: "роЕроорпИроЪрпНроЪрпБ роЕро▒ро┐ро╡ро╛ро▓рпН роЪрпЖро▓рпНро╡роорпН\nроиро▓рпНро▓ро╡ройрпН роирпЖроЮрпНроЪроорпН родро┐ро▒роирпНродрпБ", eng: "Ministers prosper with wisdom." }
            ]
          },
          {
            id: 41, name: "роЕроЩрпНроХро╡ро┐ропро▓рпН", kurals: [
              { tamil: "роЕроЩрпНроХроорпН рокро▓ро╡рпБроорпН роЕро▒ро┐ро╡рпБ родрпЗро╡рпИ\nроЕро▒роорпН рокрпБро░ро┐роирпНродро╛ро▓рпН родрпАро░рпБроорпН роЕро╡ро╛", eng: "All parts need wisdom." }
            ]
          },
          {
            id: 42, name: "роТро┤ро┐рокро┐ропро▓рпН", kurals: [
              { tamil: "роТро┤рпБроХрпНроХроорпН роЙропро░рпНро╡рпБ родро░рпБроорпН\nроХроЯро╡рпБро│рпН ро╡рогроЩрпНроХро┐ ро╡ро╛ро┤рпНро╡родрпБ роЕро▒роорпН", eng: "Discipline brings elevation." }
            ]
          }
        ]
      },
      love: {
        chapters: [
          {
            id: 108, name: "роХро│ро╡ро┐ропро▓рпН", kurals: [
              { tamil: "роХро╛родро▓рпН роХро░рпБродро┐ ро╡ро╛ро┤рпНро╡родрпБ роЗройрпНрокроорпН\nроиро▓рпНро▓ро╡ройрпН роирпЖроЮрпНроЪроорпН родро┐ро▒роирпНродрпБ", eng: "Living with love is joy." }
            ]
          },
          {
            id: 109, name: "роХро▒рпНрокро┐ропро▓рпН", kurals: [
              { tamil: "роХро▒рпНрокрпБ роХро╛ро╡ро▓рпН роЪрпЖропрпНроп ро╡рпЗрогрпНроЯрпБроорпН\nроЕро▒роорпН роЪрпЖропрпНроп ро╡рпЗрогрпНроЯрпБроорпН роОрокрпНрокрпЛродрпБроорпН", eng: "Chastity must be guarded." }
            ]
          }
        ]
      }
    };

    // Render chapters for selected Paal and chapter with separate expansions
    function renderChapters(paal, chapterId) {
      chaptersContainer.innerHTML = '';
      const chapters = kurals[paal].chapters.filter(ch => ch.id === chapterId);
      chapters.forEach(chapter => {
        const chapterDiv = document.createElement('div');
        chapterDiv.className = 'text-2xl font-bold mb-4 side-head';
        chapterDiv.textContent = chapter.name; // рокро╛ропро┐ро░ро╡ро┐ропро▓рпН as main heading outside box
        chaptersContainer.appendChild(chapterDiv);

        chapter.sections.forEach(section => {
          const sectionCard = document.createElement('div');
          sectionCard.className = 'card mb-4';
          sectionCard.innerHTML = `
            <button class="accordion-button w-full text-left expand-btn" data-section="${section.name}">
              ${section.name}
            </button>
            <div id="section-${section.name}" class="hidden mt-2 space-y-2"></div>
          `;
          chaptersContainer.appendChild(sectionCard);

          const kuralDiv = document.getElementById(`section-${section.name}`);
          section.kurals.forEach((kural, index) => {
            const [line1, line2] = kural.tamil.split('\n');
            const kuralItem = document.createElement('div');
            kuralItem.className = 'p-3 sec-card rounded-lg flex justify-between items-center';
            kuralItem.innerHTML = `
              <div>
                <p class="text-lg font-medium kural-text kural-line1">${index + 1}. ${line1}</p>
                <p class="text-lg font-medium kural-text kural-line2">${line2}</p>
                <p class="text-sm italic kural-eng">${kural.eng}</p>
              </div>
              <button class="bookmark-btn" data-kural="${kural.tamil}">тЭдя╕П</button>
            `;
            kuralDiv.appendChild(kuralItem);
          });
        });
      });

      // Add accordion functionality with single open panel
      document.querySelectorAll('.accordion-button').forEach(button => {
        button.addEventListener('click', () => {
          const sectionName = button.getAttribute('data-section');
          const content = document.getElementById(`section-${sectionName}`);
          
          // Close all other panels
          document.querySelectorAll('.accordion-button').forEach(otherButton => {
            if (otherButton !== button) {
              const otherContent = document.getElementById(`section-${otherButton.getAttribute('data-section')}`);
              if (!otherContent.classList.contains('hidden')) {
                otherContent.classList.add('hidden');
                otherContent.classList.remove('fade-enter-active');
              }
            }
          });

          // Toggle the clicked panel
          content.classList.toggle('hidden');
          if (!content.classList.contains('hidden')) {
            content.classList.add('fade-enter-active');
            setTimeout(() => content.classList.remove('fade-enter-active'), 500);
          }
        });
      });

      // Add bookmark functionality
      document.querySelectorAll('.bookmark-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const kural = btn.getAttribute('data-kural');
          if (!document.getElementById(`bookmarked-${kural}`)) {
            const bookmarked = document.createElement('li');
            bookmarked.id = `bookmarked-${kural}`;
            bookmarked.className = 'flex justify-between items-center p-2 bg-white bg-opacity-20 rounded-lg mt-2';
            bookmarked.innerHTML = `${kural} <button class="text-red-400 hover:text-red-500" onclick="removeBookmark('${kural}')">тЬЦ</button>`;
            chaptersContainer.appendChild(bookmarked);
          }
        });
      });
    }

    // Remove bookmark
    function removeBookmark(kural) {
      const item = document.getElementById(`bookmarked-${kural}`);
      if (item) item.remove();
    }

    // Initial load with рокро╛ропро┐ро░ро╡ро┐ропро▓рпН and роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ open by default
    document.addEventListener('DOMContentLoaded', () => {
      renderChapters('virtue', 1);
      highlightSelectedSubmenu('virtue', 1);
      setTimeout(() => {
        const firstSection = document.getElementById('section-роХроЯро╡рпБро│рпН ро╡ро╛ро┤рпНродрпНродрпБ');
        if (firstSection) {
          firstSection.classList.remove('hidden');
          firstSection.classList.add('fade-enter-active');
          setTimeout(() => firstSection.classList.remove('fade-enter-active'), 500);
        }
      }, 100);
    });
  </script>
</body>

</html>